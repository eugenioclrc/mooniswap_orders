(function(e){function t(t){for(var n,o,i=t[0],l=t[1],u=t[2],d=0,p=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&p.push(a[o][0]),a[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);c&&c(t);while(p.length)p.shift()();return s.push.apply(s,u||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,i=1;i<r.length;i++){var l=r[i];0!==a[l]&&(n=!1)}n&&(s.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},a={app:0},s=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/mooniswap_orders/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var c=l;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},1:function(e,t){},10:function(e,t){},2:function(e,t){},3:function(e,t){},4:function(e,t){},"4a61":function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"mooniswap","type":"address"},{"indexed":true,"internalType":"address","name":"token1","type":"address"},{"indexed":true,"internalType":"address","name":"token2","type":"address"}],"name":"Deployed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[],"name":"MAX_FEE","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"allPools","outputs":[{"internalType":"contract Mooniswap","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"fee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"contract Mooniswap","name":"","type":"address"}],"name":"isPool","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"contract IERC20","name":"","type":"address"},{"internalType":"contract IERC20","name":"","type":"address"}],"name":"pools","outputs":[{"internalType":"contract Mooniswap","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getAllPools","outputs":[{"internalType":"contract Mooniswap[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"newFee","type":"uint256"}],"name":"setFee","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"contract IERC20","name":"tokenA","type":"address"},{"internalType":"contract IERC20","name":"tokenB","type":"address"}],"name":"deploy","outputs":[{"internalType":"contract Mooniswap","name":"pool","type":"address"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"contract IERC20","name":"tokenA","type":"address"},{"internalType":"contract IERC20","name":"tokenB","type":"address"}],"name":"sortTokens","outputs":[{"internalType":"contract IERC20","name":"","type":"address"},{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"pure","type":"function"}]')},5:function(e,t){},"56d7":function(e,t,r){"use strict";r.r(t);r("4de4"),r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("main",{style:{backgroundColor:"#F7F8FA"}},[r("vault-header"),r("router-view")],1)},s=[],o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("header",[r("nav",{staticClass:"navbar navbar-expand-lg bg-dark"},[r("div",{staticClass:"collapse navbar-collapse h2"},[r("ul",{staticClass:"nav mr-auto"},[r("li",{staticClass:"navbar-nav mr-5"},[r("router-link",{staticClass:"nav-link",attrs:{to:{name:"Home"}}},[e._v("Orders")])],1),r("li",{staticClass:"navbar-nav h2"},[r("router-link",{staticClass:"nav-link",attrs:{to:{name:"ProvideOrder"}}},[e._v("Provide")])],1)]),r("form",{staticClass:"navbar-nav"},[r("router-link",{staticClass:"nav-link",attrs:{to:{name:"About"}}},[e._v("About")])],1)])])])},i=[],l={name:"VaultHeader"},u=l,c=r("2877"),d=Object(c["a"])(u,o,i,!1,null,null,null),p=d.exports,m={name:"App",components:{VaultHeader:p}},v=m,f=Object(c["a"])(v,a,s,!1,null,null,null),h=f.exports,b=r("05c2"),y=r("8c4f"),g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container-fluid mt-5"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-12 text-center"},[r("beat-loader",{attrs:{loading:e.isLoading,color:"#428bca",size:50,margin:"6px"}}),e.isLoading?e._e():r("order-table",{attrs:{orders:e.orders}})],1)])])},_=[],w=(r("d3b7"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"table-responsive"},[r("table",{staticClass:"table table-striped text-center"},[e._m(0),r("tbody",e._l(e.orders,(function(t){return r("tr",{key:t.orderId,staticClass:"text-primary"},[r("td",[r("router-link",{attrs:{to:{name:"OrderDetail",params:{sig:t.orderId}}}},[e._v(e._s(e._f("shortBytes")(t.orderId)))])],1),r("td",[r("a",{attrs:{href:"https://etherscan.io/address/"+t.mooniswapPoolAddress,target:"_blank"}},[e._v(e._s(e._f("shortBytes")(t.mooniswapPoolAddress)))])]),r("td",[r("a",{attrs:{href:"https://etherscan.io/address/"+t.fromToken,target:"_blank"}},[e._v(e._s(t.fromTokenSymbol))])]),r("td",[r("a",{attrs:{href:"https://etherscan.io/address/"+t.toToken,target:"_blank"}},[e._v(e._s(t.toTokenSymbol))])]),r("td",[e._v(e._s(e._f("toFormatPrice")(t.fromAmount)))]),r("td",[e._v(e._s(e._f("toFormatPrice")(t.minReturn)))]),r("td",[e._v(e._s(e._f("toFormatPrice")(t.maxLoss)))]),r("td",[r("a",{attrs:{href:"https://etherscan.io/address/"+t.referral,target:"_blank"}},[e._v(e._s(e._f("shortBytes")(t.referral)))])]),r("td",[e._v(e._s(e._f("toDate")(t.expiry)))]),r("td",[e._v(e._s(e._f("shortBytes")(t.salt)))]),r("td",[e._v(e._s(e._f("shortBytes")(t.signature)))]),66===t.message.length?r("td",[r("a",{attrs:{href:"https://etherscan.io/address/"+t.message,target:"_blank"}},[e._v(e._s(e._f("shortBytes")(t.message)))])]):r("td",[e._v(e._s(t.message))])])})),0)])])}),x=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",{staticClass:"text-primary"},[r("th",{attrs:{scope:"col"}},[e._v("Order Id")]),r("th",{attrs:{scope:"col"}},[e._v("MooniswapPool")]),r("th",{attrs:{scope:"col"}},[e._v("From")]),r("th",{attrs:{scope:"col"}},[e._v("To")]),r("th",{attrs:{scope:"col"}},[e._v("From Amount")]),r("th",{attrs:{scope:"col"}},[e._v("Min Return")]),r("th",{attrs:{scope:"col"}},[e._v("Max Loss")]),r("th",{attrs:{scope:"col"}},[e._v("Referral")]),r("th",{attrs:{scope:"col"}},[e._v("Expiry")]),r("th",{attrs:{scope:"col"}},[e._v("Salt")]),r("th",{attrs:{scope:"col"}},[e._v("Signature")]),r("th",{attrs:{scope:"col"}},[e._v("Tx Hash")])])])}],k={name:"OrderTable",props:{orders:{type:Array,default:function(){return[]}}}},C=k,O=Object(c["a"])(C,w,x,!1,null,null,null),T=O.exports,A=(r("96cf"),r("1da1")),P=r("bc3a"),E=r.n(P),R="https://mooniswap-orders-back.herokuapp.com/";function M(){return B.apply(this,arguments)}function B(){return B=Object(A["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get(R+"orders/");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),B.apply(this,arguments)}function F(e){return S.apply(this,arguments)}function S(){return S=Object(A["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get(R+"order/"+t);case 3:return r=e.sent,e.abrupt("return",JSON.parse(r.data));case 7:return e.prev=7,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),S.apply(this,arguments)}function I(e){return j.apply(this,arguments)}function j(){return j=Object(A["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:E.a.post(R+"addOrder/",t).then((function(e){console.log(e)})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)}))),j.apply(this,arguments)}var D={getOrders:M,getOrder:F,saveOrder:I},L={name:"Home",components:{OrderTable:T},data:function(){return{isLoading:!1,orders:[]}},created:function(){var e=this;this.isLoading=!0,D.getOrders().then((function(t){return e.orders=t})).finally((function(){return e.isLoading=!1}))}},$=L,N=Object(c["a"])($,g,_,!1,null,null,null),H=N.exports,J=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},V=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",[e._v("BETA")]),r("p",[e._v(" Lorem ipsum dolor sit amet consectetur adipisicing elit. Quasi ullam, maiores nihil reiciendis laudantium iure cum id architecto aperiam atque tempore voluptates eius rerum placeat rem amet tempora possimus. Temporibus? ")])])}],W={},q=Object(c["a"])(W,J,V,!1,null,null,null),z=q.exports,U=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container mt-5"},[r("beat-loader",{staticClass:"text-center",attrs:{loading:e.isLoading,color:"#428bca",size:50,margin:"6px"}}),e.isLoading?e._e():r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-2"}),r("div",{staticClass:"col-sm-8"},[r("div",{staticClass:"navbar-nav h1 text-center mt-2 mb-4"},[e._v(" Order Detail ")]),r("dl",{staticClass:"row"},[r("dt",{staticClass:"col-sm-3"},[e._v("Order Id: ")]),r("dd",{staticClass:"col-sm-9"},[e._v(e._s(e.order.orderId))]),r("dt",{staticClass:"col-sm-3"},[e._v("MooniswapPool: ")]),r("dd",{staticClass:"col-sm-9"},[r("a",{attrs:{href:"https://etherscan.io/address/"+e.order.mooniswapPoolAddress,target:"_blank"}},[e._v(" "+e._s(e.order.mooniswapPoolAddress)+" ")])]),r("dt",{staticClass:"col-sm-3"},[e._v("From Token: ")]),r("dd",{staticClass:"col-sm-9"},[r("a",{attrs:{href:"https://etherscan.io/address/"+e.order.fromToken,target:"_blank"}},[e._v(" "+e._s(e.order.fromTokenSymbol)+" ")])]),r("dt",{staticClass:"col-sm-3"},[e._v("To Token: ")]),r("dd",{staticClass:"col-sm-9"},[r("a",{attrs:{href:"https://etherscan.io/address/"+e.order.toToken,target:"_blank"}},[e._v(" "+e._s(e.order.toTokenSymbol)+" ")])]),r("dt",{staticClass:"col-sm-3"},[e._v("From Amount: ")]),r("dd",{staticClass:"col-sm-9"},[e._v(e._s(e._f("toFormatPrice")(e.order.fromAmount)))]),r("dt",{staticClass:"col-sm-3"},[e._v("Min Return: ")]),r("dd",{staticClass:"col-sm-9"},[e._v(e._s(e._f("toFormatPrice")(e.order.minReturn)))]),r("dt",{staticClass:"col-sm-3"},[e._v("Max Loss: ")]),r("dd",{staticClass:"col-sm-9"},[e._v(e._s(e._f("toFormatPrice")(e.order.maxLoss)))]),r("dt",{staticClass:"col-sm-3"},[e._v("Referral: ")]),r("dd",{staticClass:"col-sm-9"},[r("a",{attrs:{href:"https://etherscan.io/address/"+e.order.referral,target:"_blank"}},[e._v(" "+e._s(e.order.referral)+" ")])]),r("dt",{staticClass:"col-sm-3"},[e._v("Expiry: ")]),r("dd",{staticClass:"col-sm-9"},[e._v(e._s(e._f("toDate")(e.order.expiry)))]),r("dt",{staticClass:"col-sm-3"},[e._v("Salt: ")]),r("dd",{staticClass:"col-sm-9"},[e._v(e._s(e.order.salt))]),r("dt",{staticClass:"col-sm-3"},[e._v("Signature: ")]),r("dd",{staticClass:"col-sm-9"},[e._v(e._s(e._f("shortBytes")(e.order.signature,32)))])])]),r("div",{staticClass:"col-sm-2"})])])],1)},Y=[],Q={name:"OrderDetail",data:function(){return{isLoading:!1,order:{}}},created:function(){this.getOrder()},methods:{getOrder:function(){var e=this;this.isLoading=!0;var t=this.$route.params.sig;D.getOrder(t).then((function(t){return e.order=t})).finally((function(){return e.isLoading=!1}))}}},X=Q,G=Object(c["a"])(X,U,Y,!1,null,null,null),K=G.exports,Z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container mt-5"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-2"}),r("div",{staticClass:"col-sm-8"},[r("form",{staticClass:"review-form",on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[r("div",{staticClass:"navbar-nav h1 text-center mb-4"},[e._v(" Sign Order and Provide ")]),e._l(e.inputs,(function(t,n){return r("div",{key:n,staticClass:"form-group row"},[r("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"inputEmail3"}},[e._v(e._s(t.text))]),r("div",{staticClass:"col-sm-9"},["checkbox"===t.type?r("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"i.value"}],class:null==t.valid?"form-control":t.valid?"form-control text-success":"form-control text-danger",attrs:{"":t.items,type:"checkbox"},domProps:{checked:Array.isArray(t.value)?e._i(t.value,null)>-1:t.value},on:{change:[function(r){var n=t.value,a=r.target,s=!!a.checked;if(Array.isArray(n)){var o=null,i=e._i(n,o);a.checked?i<0&&e.$set(t,"value",n.concat([o])):i>-1&&e.$set(t,"value",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(t,"value",s)},function(r){return e.onInputChange(r,t)}]}}):"radio"===t.type?r("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"i.value"}],class:null==t.valid?"form-control":t.valid?"form-control text-success":"form-control text-danger",attrs:{"":t.items,type:"radio"},domProps:{checked:e._q(t.value,null)},on:{change:[function(r){return e.$set(t,"value",null)},function(r){return e.onInputChange(r,t)}]}}):r("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"i.value"}],class:null==t.valid?"form-control":t.valid?"form-control text-success":"form-control text-danger",attrs:{"":t.items,type:t.type},domProps:{value:t.value},on:{change:function(r){return e.onInputChange(r,t)},input:function(r){r.target.composing||e.$set(t,"value",r.target.value)}}})])])})),r("div",{staticClass:"form-group row"},[r("div",{staticClass:"col-sm-10"},[r("standard-button",{staticClass:"mt-3",attrs:{type:"submit",title:"Sign & Provide"}})],1)])],2)]),r("div",{staticClass:"col-sm-2"})])])},ee=[],te=r("99e5"),re=r.n(te),ne="0x80E74A883d8A196E755B5e384cb9959beAFefb87",ae="0xcdDB95AbF5Da5395F7De7936CE7Cf569aF891651",se="0x0000000000000000000000000000000000000000",oe=function(){var e=Object(A["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=null,!window.ethereum){e.next=15;break}return t=new re.a(window.ethereum),e.prev=3,e.next=6,window.ethereum.enable();case 6:e.next=12;break;case 8:throw e.prev=8,e.t0=e["catch"](3),t=null,new Error("denied");case 12:return e.abrupt("return",t);case 15:if(!window.web3){e.next=18;break}return t=new re.a(window.web3.currentProvider),e.abrupt("return",t);case 18:throw console.log("Non-Ethereum browser detected. You should consider trying MetaMask!"),new Error("MetaMask missing");case 20:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(A["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.eth.getAccounts((function(e,t){return e&&console.error("web3 error",e),t}));case 2:return r=e.sent,e.abrupt("return",t.utils.toChecksumAddress(r[0]));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function le(e,t,r){return ue.apply(this,arguments)}function ue(){return ue=Object(A["a"])(regeneratorRuntime.mark((function e(t,n,a){var s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,s=new t.eth.Contract(r("4a61"),ae),e.next=4,s.methods.pools(n,a).call();case 4:if(o=e.sent,o!==se){e.next=7;break}throw new Error("The pool dont exists");case 7:return e.abrupt("return",o);case 10:return e.prev=10,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])}))),ue.apply(this,arguments)}var ce={instanceWeb3:oe,getUser:ie,mooniswapOrdersAddress:ne,getPool:le},de=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:e.onClick}},[e._v(" "+e._s(e.title)+" ")])},pe=[],me={name:"StandardButton",props:{title:{type:String,default:function(){return""}}},methods:{onClick:function(){this.$emit("click"+this.title)}}},ve=me,fe=Object(c["a"])(ve,de,pe,!1,null,null,null),he=fe.exports,be={name:"ProvideOrder",components:{StandardButton:he},data:function(){return{web3:void 0,user:void 0,inputs:{fromToken:{type:"address",text:"From Token",valid:null,value:"0xc778417E063141139Fce010982780140Aa0cD5Ab"},toToken:{type:"address",text:"To Token",valid:null,value:"0x99c1C36DEe5C3B62723DC4223F4352bBf1Da0BfF"},fromAmount:{type:"number",text:"From Amount",valid:null,value:"1"},minReturn:{type:"number",text:"Min Return",valid:null,value:"1"},maxLoss:{type:"number",text:"Max Loss",valid:null,value:"1"},referral:{type:"address",text:"Referral",valid:null,value:"0x225bEA75d0B4c0686597097d28d81DB86b42ee78"},expiry:{type:"number",text:"Expiry",valid:null,value:"1610074847"},salt:{type:"hex32",text:"Salt",valid:null,value:"0x225bEA1275d0B4c0686597097d28d81DB86b42ee781234567891234567891234"}}}},created:function(){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ce.instanceWeb3();case 2:return e.web3=t.sent,t.next=5,ce.getUser(e.web3);case 5:e.user=t.sent;case 6:case"end":return t.stop()}}),t)})))()},methods:{onInputChange:function(e,t){if(""!==e.target.value){switch(t.type){case"signature":t.valid=132===e.target.value.length&&this.web3.utils.isHexStrict(e.target.value);break;case"address":try{e.target.value=this.web3.utils.toChecksumAddress(e.target.value),t.valid=!0}catch(r){t.valid=!1}break;case"number":try{t.valid=this.web3.utils.isBN(this.web3.utils.toBN(e.target.value))}catch(r){t.valid=!1}break;case"hex32":t.valid=66===e.target.value.length&&this.web3.utils.isHexStrict(e.target.value);break}t.valid||window.alert("Invalid data")}else t.valid=null},onSubmit:function(){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={mooniswapOrdersAddress:ce.mooniswapOrdersAddress,fromToken:e.inputs.fromToken.value,toToken:e.inputs.toToken.value,fromAmount:e.inputs.fromAmount.value,minReturn:e.inputs.minReturn.value,maxLoss:e.inputs.maxLoss.value,referral:e.inputs.referral.value,expiry:e.inputs.expiry.value,salt:e.inputs.salt.value},t.next=3,ce.getPool(e.web3,r.fromToken,r.toToken);case 3:r.mooniswapPoolAddress=t.sent;try{r.orderId=e.web3.utils.soliditySha3({t:"address",v:r.mooniswapOrdersAddress},{t:"address",v:r.mooniswapPoolAddress},{t:"address",v:r.fromToken},{t:"address",v:r.toToken},{t:"uint256",v:r.fromAmount},{t:"uint256",v:r.minReturn},{t:"uint256",v:r.maxLoss},{t:"address",v:r.referral},{t:"uint256",v:r.expiry},{t:"bytes32",v:r.salt})}catch(n){window.alert("Invalid data")}return t.next=7,e.web3.eth.personal.sign(r.orderId,e.user);case 7:return r.signature=t.sent,t.next=10,e.web3.eth.personal.ecRecover(r.orderId,r.signature);case 10:if(r.owner=t.sent,r.owner=e.web3.utils.toChecksumAddress(r.owner),r.owner!==e.user){t.next=17;break}return t.next=15,D.saveOrder(r);case 15:t.next=18;break;case 17:window.alert("Ownership error");case 18:case"end":return t.stop()}}),t)})))()}}},ye=be,ge=Object(c["a"])(ye,Z,ee,!1,null,null,null),_e=ge.exports,we=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",[e._v("error")]),r("router-link",{attrs:{to:"/"}},[e._v("Volver a la pÃ¡gina de Inicio")])],1)},xe=[],ke={},Ce=Object(c["a"])(ke,we,xe,!1,null,null,null),Oe=Ce.exports;n["a"].use(y["a"]);var Te=new y["a"]({mode:"history",routes:[{path:"/",name:"Home",component:H},{path:"/mooniswap_orders",name:"mooniswap_orders",component:H},{path:"/about",name:"About",component:z},{path:"/order-detail/:sig",name:"OrderDetail",component:K},{path:"/provide-order",name:"ProvideOrder",component:_e},{path:"*",name:"Error",component:Oe}]}),Ae=(r("a15b"),r("fb6a"),r("a9e3"),r("b680"),r("25f0"),r("38cf"),r("5ba3")),Pe=r.n(Ae),Ee=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;return e?e.slice(0,2+t)+"..."+e.slice(-t):"$ 0"},Re=function(e){return e?(e/=100,"".concat(Number(e).toFixed(2)," %")):"0%"},Me=18;function Be(e){for(var t=0,r=e.length;r>=0;r--)"0"===e[r]&&t++;return e.slice(0,e.length-t)}var Fe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(e=Pe.a.toBN(e).toString(),e.length<=t)return e;if(e.length<=Me){var r="0".repeat(Me-e.length);return e=e.slice(0,t-r.length),"0."+r+Be(e)}var n=e.slice(0,e.length-Me),a="."+Be(e.slice(n.length,t+n.length));return"."!=a?n+a+" ":n+" "},Se=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"E^18",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;e=Pe.a.toBN(e).toString();var n=10;if(e.length<=n)return e+" WEI";if(e.length<=Me){var a="0".repeat(Me-e.length);return e=a+e,e=e.slice(0,n),t&&(t=" "+t),"0."+e+t}var s=e.slice(0,e.length-Me);if(e.length>=18+n-r)return s+" "+t;var o="."+Be(e.slice(s.length,r+s.length));return s+o+" "+t};function Ie(e){function t(e){return e<10?"0"+e:e}var r=new Date(e);return[t(r.getDate()),t(r.getMonth()+1),r.getFullYear()].join("/")}var je=function(e){return Pe.a.toBN(e).gt(Pe.a.toBN("4294967296"))?">year"+Ie(4294967296e3).slice(6):Ie(1e3*Pe.a.toBN(e).toNumber())},De={toShortBytes:Ee,toBasePorcent:Re,toFormatId:Fe,toFormatPrice:Se,toDate:je};r("4989"),r("ab8b");n["a"].use(b["VueSpinners"]),n["a"].filter("shortBytes",De.toShortBytes),n["a"].filter("basePorcent",De.toBasePorcent),n["a"].filter("toFormatId",De.toFormatId),n["a"].filter("toFormatPrice",De.toFormatPrice),n["a"].filter("toDate",De.toDate),n["a"].config.productionTip=!1,new n["a"]({router:Te,render:function(e){return e(h)}}).$mount("#app")},6:function(e,t){},7:function(e,t){},8:function(e,t){},9:function(e,t){}});
//# sourceMappingURL=app.27849bc0.js.map